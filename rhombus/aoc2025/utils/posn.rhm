#lang rhombus 

export:
  all_defined

class Posn(row, col):
  method all_neighbors():
    for List:
      each dx in [-1, 0, 1]
      each dy in [-1, 0, 1]
      skip_when dx == 0 && dy == 0
      Posn(row + dx, col + dy)
  method ortho_neighbors():
    for List:
      each:
        [dx, dy] in [[0, 1], [0, -1], [1, 0], [-1, 0]]
      skip_when dx == 0 && dy == 0
      Posn(col + dx, row + dy)